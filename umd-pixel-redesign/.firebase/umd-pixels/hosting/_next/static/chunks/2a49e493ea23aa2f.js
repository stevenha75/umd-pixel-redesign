(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53795,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(18566);e.i(61978);var n=e.i(52831);e.i(51718);var r=e.i(18357),s=e.i(59141);function l(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Completing sign-in…"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading…"})]})}),children:(0,t.jsx)(c,{})})}function c(){let e=(0,i.useSearchParams)(),l=(0,i.useRouter)(),[c,o]=(0,a.useState)("Signing you in...");return(0,a.useEffect)(()=>{let t=e.get("code");e.get("error")?o("Slack authorization was cancelled."):t?(async()=>{try{let e=(0,n.httpsCallable)(s.functions,"authWithSlack"),a=await e({code:t,redirectUri:"http://localhost:3000/auth/callback"}),i=a?.data?.token;if(!i)throw Error("No token returned from Slack authentication.");await (0,r.signInWithCustomToken)(s.auth,i),l.replace("/")}catch(e){console.error("Slack auth callback failed",e),o("Authentication failed. Please try again.")}})():l.replace("/login")},[l,e]),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Completing sign-in…"}),(0,t.jsx)("p",{className:"text-gray-600",children:c})]})})}e.s(["default",()=>l])}]);